#!/bin/env bash
menu=( \ 
    books \
    alacritty \
    firefox \
    kitty \
    mixes \
    obsidian \
    soundcards \
    thunderbird \ 
    tracks \
    wifi \
)

choice=$(for c in "${menu[@]}"; do printf "%s\n" $c; done | sort -u | fzf --color=bw)
if [ $? = 0 ]; then
    case "$choice" in
        alacritty)
            setsid swaymsg -t command exec "alacritty";
            ;;
        books)
            DIR=$HOME/fil/books
            FILE="$DIR/"$(cd $DIR && find . -type f | fzf)
            if [ -f "$FILE" ]; then
                setsid swaymsg -t command exec "zathura $FILE";
            fi
            ;;
        kitty)
            setsid swaymsg -t command exec "kitty";
            ;;
        mixes)
            DIR=$HOME/fil/music/mixes
            FILE="$DIR/"$(cd $DIR && find . -type f | fzf)
            mpv --no-video $FILE
            ;;
        soundcards)
            cat /proc/asound/modules
            read -n 1 -p ...
            ;;
        tracks)
            mpv --shuffle --no-video $HOME/fil/music/tracks/{2020,2021}
            ;;
        wifi)
            iwctl
            ;;
        *)
            setsid swaymsg -t command exec "$choice"
            ;;
    esac
fi
